kind: pipeline
name: wolfram-solc

clone:
  disable: true

steps:
  - name: clone
    image: docker:git
    commands:
      - ls
      - rm -rf *
      - ls
      - git clone https://github.com/provable-things/ethereum-examples.git .
      - git checkout $DRONE_COMMIT -b $DRONE_BRANCH
      - git clone https://github.com/provable-things/ethereum-api.git
      - cd ethereum-api \
        && git checkout fix/api-symlink

  - name: compile
    image: ethereum/solc:stable-alpine
    commands:
      - cd solidity
      - solc github.com/oraclize/ethereum-api/=/drone/src/ethereum-api/ WolframAlpha.sol
